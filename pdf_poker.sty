\ProvidesPackage{pdf_poker}

\newif\if@render\@renderfalse

\DeclareOption{render}{\@rendertrue}

\ProcessOptions\relax

\usepackage[T1]{fontenc}
\newcommand\arev{\fontfamily{fav}\selectfont}
\DeclareSymbolFont{extra@up}          {U}{zavm}{m}{n}

\DeclareMathSymbol{\var@heart}{\mathalpha}{extra@up}{86} % heart
\DeclareMathSymbol{\var@diamond}{\mathalpha}{extra@up}{87} % diamond

\newcommand{\my@heart}{\scalebox{0.930}{$\var@heart$}}
\newcommand{\my@diamond}{\scalebox{0.930}{$\var@diamond$}}
\newcommand{\my@spade}{\arev $\spadesuit$}
\newcommand{\my@club}{\arev $\clubsuit$}

\usepackage{tcolorbox}

\if@render
   \usepackage{tikz}
   \input{images/image_jack_of_clubs.tex}
   \input{images/image_jack_of_diamonds.tex}
   \input{images/image_jack_of_hearts.tex}
   \input{images/image_jack_of_spades.tex}

   \input{images/image_queen_of_clubs.tex}
   \input{images/image_queen_of_diamonds.tex}
   \input{images/image_queen_of_hearts.tex}
   \input{images/image_queen_of_spades.tex}

   \input{images/image_king_of_clubs.tex}
   \input{images/image_king_of_diamonds.tex}
   \input{images/image_king_of_hearts.tex}
   \input{images/image_king_of_spades.tex}
\else
   \usepackage{graphicx}

   \newdimen{\mysize}
   \mysize=3.1in
   \newcommand{\poker@size}[1]{#1\mysize}
\newcommand{\draw@JackOfSpades}[1]{\includegraphics[width=\poker@size{#1}]{images/image_jack_of_spades.png}}
   \newcommand{\draw@QueenOfSpades}[1]{\includegraphics[width=\poker@size{#1}]{images/image_queen_of_spades.png}}
   \newcommand{\draw@KingOfSpades}[1]{\includegraphics[width=\poker@size{#1}]{images/image_king_of_spades.png}}
   \newcommand{\draw@JackOfHearts}[1]{\includegraphics[width=\poker@size{#1}]{images/image_jack_of_hearts.png}}
   \newcommand{\draw@QueenOfHearts}[1]{\includegraphics[width=\poker@size{#1}]{images/image_queen_of_hearts.png}}
   \newcommand{\draw@KingOfHearts}[1]{\includegraphics[width=\poker@size{#1}]{images/image_king_of_hearts.png}}
   \newcommand{\draw@JackOfDiamonds}[1]{\includegraphics[width=\poker@size{#1}]{images/image_jack_of_diamonds.png}}
   \newcommand{\draw@QueenOfDiamonds}[1]{\includegraphics[width=\poker@size{#1}]{images/image_queen_of_diamonds.png}}
   \newcommand{\draw@KingOfDiamonds}[1]{\includegraphics[width=\poker@size{#1}]{images/image_king_of_diamonds.png}}
   \newcommand{\draw@JackOfClubs}[1]{\includegraphics[width=\poker@size{#1}]{images/image_jack_of_clubs.png}}
   \newcommand{\draw@QueenOfClubs}[1]{\includegraphics[width=\poker@size{#1}]{images/image_queen_of_clubs.png}}
   \newcommand{\draw@KingOfClubs}[1]{\includegraphics[width=\poker@size{#1}]{images/image_king_of_clubs.png}}
\fi

\definecolor{bis@que}{rgb}{1.0, 0.94, 0.7}

\newcommand\ace@pattern[1]{%
  \setlength{\tabcolsep}{2pt}
  \begin{tabular}{ccc}
         &            &      \\
         &{\Huge#1}& \\
         &            &      \\
  \end{tabular}%
}

\newcommand\two@pattern[1]{%
  \setlength{\tabcolsep}{2pt}
  \begin{tabular}{ccc}
         &            &      \\
         &{\Large#1}& \\
         &     & \\
         &     & \\
         &     & \\
         &{\Large#1}& \\
         &            &      \\
  \end{tabular}%
}

\newcommand\three@pattern[1]{%
  \setlength{\tabcolsep}{2pt}
  \begin{tabular}{ccc}
         &            &      \\
         &{\Large#1}& \\
         &     & \\
         &{\Large#1}& \\
         &     & \\
         &{\Large#1}& \\
         &            &      \\
  \end{tabular}%
}

\newcommand\four@pattern[1]{%
  \setlength{\tabcolsep}{3pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
         &     & \\
         &     & \\
         &     & \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\five@pattern[1]{%
  \setlength{\tabcolsep}{0pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
         &     & \\
         &{\Large#1}& \\
         &     & \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\six@pattern[1]{%
  \setlength{\tabcolsep}{3pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
         &     & \\
    {\Large#1}&            &{\Large#1} \\
         &     & \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\seven@pattern[1]{%
  \setlength{\tabcolsep}{1pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
         &{\Large#1}& \\
    {\Large#1}&            &{\Large#1} \\
         &     & \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\eight@pattern[1]{%
  \setlength{\tabcolsep}{2pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
    &{\Large#1}& \\
    {\Large#1}&            &{\Large#1} \\
    &{\Large#1}& \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\nine@pattern[1]{%
  \setlength{\tabcolsep}{1pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\
    {\Large#1}&            &{\Large#1} \\
    &{\Large#1}& \\
    {\Large#1}&            &{\Large#1} \\
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

\newcommand\ten@pattern[1]{%
  \setlength{\tabcolsep}{2pt}
  \begin{tabular}{ccc}
         &            &      \\
    {\Large#1}&            &{\Large#1} \\[-0.3\normalbaselineskip]
    &{\Large#1}& \\[-0.3\normalbaselineskip]
    {\Large#1}&            &{\Large#1} \\
    {\Large#1}&            &{\Large#1} \\[-0.3\normalbaselineskip]
    &{\Large#1}& \\[-0.3\normalbaselineskip]
    {\Large#1}&            &{\Large#1} \\
         &            &      \\
  \end{tabular}%
}

% #1 = color; #2 = value; #3 = suit; #4 = image
\newcommand\playing@card[4]{%
  % Outer box of the card.
  \begin{tcolorbox}[hbox,nobeforeafter,boxsep=0pt,colframe=black,left=0pt,right=1pt,top=0pt,bottom=0pt]%

    % (first two)(third) so that I can bottom align them
    \begin{tcolorbox}[hbox,nobeforeafter,boxsep=0pt,frame empty,
             left=0pt,right=0pt,top=0pt,bottom=0pt,box align=bottom]%

       % First two elements -- top aligned
       \begin{tcolorbox}[hbox,nobeforeafter,boxsep=0pt,frame empty,
                         left=0pt,right=0pt,top=0pt,bottom=0pt,box align=top]%
         \begin{tabular}{@{}c@{}} {\color{#1}\arev \Large #2}\\ {\color{#1}\Large #3} \end{tabular}%
       \end{tcolorbox}%

       \begin{tcolorbox}[hbox,nobeforeafter, boxsep=0pt, frame empty,
                left=0pt,right=0pt,top=\baselineskip,bottom=\baselineskip,box align=top]%
       \begin{tcolorbox}[nobeforeafter, boxsep=0pt, sharp corners,boxrule=0.5pt, colback={bis@que},
           left=0pt,right=0pt,top=0pt,bottom=0pt,box align=top,width=0.75in,height=1.25in,halign=center,
           valign=center]%
              {\color{#1}#4}%
           \end{tcolorbox}%
           \end{tcolorbox}%

    \end{tcolorbox}%

    % Third box -- bottom aligned to the first two
    \begin{tcolorbox}[hbox,nobeforeafter, boxsep=0pt,frame empty,
        left=0pt,right=0pt,top=0pt,bottom=0pt,box align=bottom]%
      \rotatebox{180}{\begin{tabular}{@{}c@{}}{\color{#1}\arev \Large #2}\\\Large{\color{#1}#3}\end{tabular}}%
      \end{tcolorbox}%
  \end{tcolorbox}}%

\newcommand{\CardAceSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{A}{\my@spade}{\ace@pattern{\my@spade}}}}
\newcommand{\CardTwoSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{2}{\my@spade}{\two@pattern{\my@spade}}}}
\newcommand{\CardThreeSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{3}{\my@spade}{\three@pattern{\my@spade}}}}
\newcommand{\CardFourSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{4}{\my@spade}{\four@pattern{\my@spade}}}}
\newcommand{\CardFiveSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{5}{\my@spade}{\five@pattern{\my@spade}}}}
\newcommand{\CardSixSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{6}{\my@spade}{\six@pattern{\my@spade}}}}
\newcommand{\CardSevenSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{7}{\my@spade}{\seven@pattern{\my@spade}}}}
\newcommand{\CardEightSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{8}{\my@spade}{\eight@pattern{\my@spade}}}}
\newcommand{\CardNineSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{9}{\my@spade}{\nine@pattern{\my@spade}}}}
\newcommand{\CardTenSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{\scalebox{0.6}[1.0]{10}}{\my@spade}{\ten@pattern{\my@spade}}}}
\newcommand{\CardJackSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{J}{\my@spade}{\draw@JackOfSpades{0.23}}}}
\newcommand{\CardQueenSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{Q}{\my@spade}{\draw@QueenOfSpades{0.23}}}}
\newcommand{\CardKingSpades}[1][0.5]{\scalebox{#1}{\playing@card{black}{K}{\my@spade}{\draw@KingOfSpades{0.23}}}}

\newcommand{\CardAceHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{A}{\my@heart}{\ace@pattern{\my@heart}}}}
\newcommand{\CardTwoHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{2}{\my@heart}{\two@pattern{\my@heart}}}}
\newcommand{\CardThreeHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{3}{\my@heart}{\three@pattern{\my@heart}}}}
\newcommand{\CardFourHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{4}{\my@heart}{\four@pattern{\my@heart}}}}
\newcommand{\CardFiveHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{5}{\my@heart}{\five@pattern{\my@heart}}}}
\newcommand{\CardSixHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{6}{\my@heart}{\six@pattern{\my@heart}}}}
\newcommand{\CardSevenHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{7}{\my@heart}{\seven@pattern{\my@heart}}}}
\newcommand{\CardEightHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{8}{\my@heart}{\eight@pattern{\my@heart}}}}
\newcommand{\CardNineHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{9}{\my@heart}{\nine@pattern{\my@heart}}}}
\newcommand{\CardTenHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{\scalebox{0.6}[1.0]{10}}{\my@heart}{\ten@pattern{\my@heart}}}}
\newcommand{\CardJackHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{J}{\my@heart}{\draw@JackOfHearts{0.23}}}}
\newcommand{\CardQueenHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{Q}{\my@heart}{\draw@QueenOfHearts{0.23}}}}
\newcommand{\CardKingHearts}[1][0.5]{\scalebox{#1}{\playing@card{red}{K}{\my@heart}{\draw@KingOfHearts{0.23}}}}

\newcommand{\CardAceDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{A}{\my@diamond}{\ace@pattern{\my@diamond}}}}
\newcommand{\CardTwoDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{2}{\my@diamond}{\two@pattern{\my@diamond}}}}
\newcommand{\CardThreeDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{3}{\my@diamond}{\three@pattern{\my@diamond}}}}
\newcommand{\CardFourDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{4}{\my@diamond}{\four@pattern{\my@diamond}}}}
\newcommand{\CardFiveDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{5}{\my@diamond}{\five@pattern{\my@diamond}}}}
\newcommand{\CardSixDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{6}{\my@diamond}{\six@pattern{\my@diamond}}}}
\newcommand{\CardSevenDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{7}{\my@diamond}{\seven@pattern{\my@diamond}}}}
\newcommand{\CardEightDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{8}{\my@diamond}{\eight@pattern{\my@diamond}}}}
\newcommand{\CardNineDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{9}{\my@diamond}{\nine@pattern{\my@diamond}}}}
\newcommand{\CardTenDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{\scalebox{0.6}[1.0]{10}}{\my@diamond}{\ten@pattern{\my@diamond}}}}
\newcommand{\CardJackDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{J}{\my@diamond}{\draw@JackOfDiamonds{0.23}}}}
\newcommand{\CardQueenDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{Q}{\my@diamond}{\draw@QueenOfDiamonds{0.23}}}}
\newcommand{\CardKingDiamonds}[1][0.5]{\scalebox{#1}{\playing@card{red}{K}{\my@diamond}{\draw@KingOfDiamonds{0.23}}}}

\newcommand{\CardAceClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{A}{\my@club}{\ace@pattern{\my@club}}}}
\newcommand{\CardTwoClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{2}{\my@club}{\two@pattern{\my@club}}}}
\newcommand{\CardThreeClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{3}{\my@club}{\three@pattern{\my@club}}}}
\newcommand{\CardFourClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{4}{\my@club}{\four@pattern{\my@club}}}}
\newcommand{\CardFiveClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{5}{\my@club}{\five@pattern{\my@club}}}}
\newcommand{\CardSixClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{6}{\my@club}{\six@pattern{\my@club}}}}
\newcommand{\CardSevenClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{7}{\my@club}{\seven@pattern{\my@club}}}}
\newcommand{\CardEightClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{8}{\my@club}{\eight@pattern{\my@club}}}}
\newcommand{\CardNineClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{9}{\my@club}{\nine@pattern{\my@club}}}}
\newcommand{\CardTenClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{\scalebox{0.6}[1.0]{10}}{\my@club}{\ten@pattern{\my@club}}}}
\newcommand{\CardJackClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{J}{\my@club}{\draw@JackOfClubs{0.23}}}}
\newcommand{\CardQueenClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{Q}{\my@club}{\draw@QueenOfClubs{0.23}}}}
\newcommand{\CardKingClubs}[1][0.5]{\scalebox{#1}{\playing@card{black}{K}{\my@club}{\draw@KingOfClubs{0.23}}}}



